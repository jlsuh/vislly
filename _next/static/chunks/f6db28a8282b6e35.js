(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42459,e=>{"use strict";var t=e.i(43476),a=e.i(932),r=e.i(71645);async function l(e){let t=await fetch(`/vislly/wasm/${e}`);if(!t.ok)throw Error(`Failed to load WASM (${e}): ${t.status} ${t.statusText}`);let a=await t.arrayBuffer(),{instance:r}=await WebAssembly.instantiate(a);return r.exports}let o=["get_data_buffer","get_height","get_max_input_length","get_pixel_buffer","get_width","render","set_dpr"],n=new Map,i={Code128:"code-128",Ean13:"ean-13"},s=Object.values(i),d={[i.Code128]:{allowedChars:RegExp("^[\\x00-\\x7F]*$"),label:"Code 128",value:i.Code128,wasmFile:"code_128.wasm"},[i.Ean13]:{allowedChars:/^[0-9]*$/,label:"EAN-13",paddingChar:"0",targetLength:12,value:i.Ean13,wasmFile:"ean_13.wasm"}},c=i.Code128;function h(e){return(0,t.jsx)("option",{value:e.value,children:e.label},e.value)}e.s(["default",0,function(){let e,i,m,u,p,g,f,x,y,b,_,w,v,C,j,S,E,F,A,I,$,M,R,k,L,T,W,O,U,B,D,P,z=(0,a.c)(58),[K,q]=(0,r.useState)(Math.min(Math.ceil(window.devicePixelRatio||1),4)),[N,G]=(0,r.useState)(""),[H,J]=(0,r.useState)(c),Q=(0,r.useRef)(null),V=(0,r.useId)(),X=(0,r.useId)(),Y=d[H];z[0]!==Y.wasmFile?(e=function(e){let t=n.get(e);if(t)return t;let a=(async()=>{let t=await l(e);if("object"!=typeof t||null===t)throw Error("WASM exports is not an object");for(let e of o)if("function"!=typeof t[e])throw Error(`Missing required export function "${e}"`);if(!("memory"in t&&t.memory instanceof WebAssembly.Memory))throw Error("Missing exported memory");return t})();return n.set(e,a),a}(Y.wasmFile),z[0]=Y.wasmFile,z[1]=e):e=z[1];let Z=(0,r.use)(e);z[2]!==Z?(i=Z.get_max_input_length(),z[2]=Z,z[3]=i):i=z[3];let ee=i;z[4]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{let t=e.target.value;if(!s.includes(t))throw Error(`Invalid barcode symbology: ${String(t)}`);J(t),G("")},z[4]=m):m=z[4];let et=m;z[5]!==Y.paddingChar||z[6]!==Y.targetLength||z[7]!==Z||z[8]!==N||z[9]!==K?(u=()=>{let e=Q.current;if(!e)return;let t=e.getContext("2d");if(!t)return;let a=N;Y.paddingChar&&Y.targetLength&&(a=a.padEnd(Y.targetLength,Y.paddingChar)),Z.set_dpr(K);let r=Z.get_data_buffer(),l=new Uint8Array(Z.memory.buffer);for(let e=0;e<a.length;e+=1)l[r+e]=a.charCodeAt(e);l[r+a.length]=0,Z.render();let o=Z.get_width(),n=Z.get_height();e.width=o,e.height=n,e.style.width=`${o/K}px`;let i=Z.get_pixel_buffer(),s=new ImageData(new Uint8ClampedArray(Z.memory.buffer,i,o*n*4),o,n);t.putImageData(s,0,0)},z[5]=Y.paddingChar,z[6]=Y.targetLength,z[7]=Z,z[8]=N,z[9]=K,z[10]=u):u=z[10];let ea=u;return z[11]!==ea?(p=()=>{ea()},g=[ea],z[11]=ea,z[12]=p,z[13]=g):(p=z[12],g=z[13]),(0,r.useEffect)(p,g),z[14]===Symbol.for("react.memo_cache_sentinel")?(f={display:"flex",flexDirection:"column",alignItems:"center",gap:"20px",width:"100%"},x={display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},y={display:"flex",alignItems:"center",gap:"5px"},z[14]=f,z[15]=x,z[16]=y):(f=z[14],x=z[15],y=z[16]),z[17]===Symbol.for("react.memo_cache_sentinel")?(b={fontSize:"0.9rem",color:"#aaa"},z[17]=b):b=z[17],z[18]!==X?(_=(0,t.jsx)("label",{htmlFor:X,style:b,children:"Type:"}),z[18]=X,z[19]=_):_=z[19],z[20]===Symbol.for("react.memo_cache_sentinel")?(w={padding:"8px",borderRadius:"4px",border:"1px solid #555",background:"#333",color:"white",fontFamily:"monospace",cursor:"pointer"},v=Object.values(d).map(h),z[20]=w,z[21]=v):(w=z[20],v=z[21]),z[22]!==H||z[23]!==X?(C=(0,t.jsx)("select",{id:X,value:H,onChange:et,style:w,children:v}),z[22]=H,z[23]=X,z[24]=C):C=z[24],z[25]!==_||z[26]!==C?(j=(0,t.jsxs)("div",{style:y,children:[_,C]}),z[25]=_,z[26]=C,z[27]=j):j=z[27],z[28]!==Y.allowedChars?(S=e=>{let t=e.target.value;Y.allowedChars.test(t)&&G(t)},z[28]=Y.allowedChars,z[29]=S):S=z[29],z[30]===Symbol.for("react.memo_cache_sentinel")?(E={padding:"8px",borderRadius:"4px",border:"1px solid #555",background:"#333",color:"white",fontFamily:"monospace"},z[30]=E):E=z[30],z[31]!==N||z[32]!==ee||z[33]!==S?(F=(0,t.jsx)("input",{type:"text",name:"data",value:N,onChange:S,maxLength:ee,placeholder:"Enter data",style:E}),z[31]=N,z[32]=ee,z[33]=S,z[34]=F):F=z[34],z[35]===Symbol.for("react.memo_cache_sentinel")?(A={display:"flex",alignItems:"center",gap:"5px"},z[35]=A):A=z[35],z[36]===Symbol.for("react.memo_cache_sentinel")?(I={fontSize:"0.9rem",color:"#aaa"},z[36]=I):I=z[36],z[37]!==V?($=(0,t.jsx)("label",{htmlFor:V,style:I,children:"Scale:"}),z[37]=V,z[38]=$):$=z[38],z[39]===Symbol.for("react.memo_cache_sentinel")?(M=e=>q(+e.target.value),R={padding:"8px",borderRadius:"4px",border:"1px solid #555",background:"#333",color:"white",fontFamily:"monospace",cursor:"pointer"},k=(0,t.jsx)("option",{value:1,children:"1x"}),L=(0,t.jsx)("option",{value:2,children:"2x"}),T=(0,t.jsx)("option",{value:3,children:"3x"}),W=(0,t.jsx)("option",{value:4,children:"4x"}),z[39]=M,z[40]=R,z[41]=k,z[42]=L,z[43]=T,z[44]=W):(M=z[39],R=z[40],k=z[41],L=z[42],T=z[43],W=z[44]),z[45]!==K||z[46]!==V?(O=(0,t.jsxs)("select",{id:V,value:K,onChange:M,style:R,children:[k,L,T,W]}),z[45]=K,z[46]=V,z[47]=O):O=z[47],z[48]!==$||z[49]!==O?(U=(0,t.jsxs)("div",{style:A,children:[$,O]}),z[48]=$,z[49]=O,z[50]=U):U=z[50],z[51]!==j||z[52]!==F||z[53]!==U?(B=(0,t.jsxs)("div",{style:x,children:[j,F,U]}),z[51]=j,z[52]=F,z[53]=U,z[54]=B):B=z[54],z[55]===Symbol.for("react.memo_cache_sentinel")?(D=(0,t.jsx)("canvas",{ref:Q,style:{boxShadow:"0 0 20px rgba(0, 0, 0, 0.5)",background:"#000",maxWidth:"100%",height:"auto",display:"block"}}),z[55]=D):D=z[55],z[56]!==B?(P=(0,t.jsxs)("div",{style:f,children:[B,D]}),z[56]=B,z[57]=P):P=z[57],P}],42459)}]);