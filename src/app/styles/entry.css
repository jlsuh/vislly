@layer reset.modern-normalize, themes, components, utilities;

@import "./modern-normalize.css";

@layer reset {
  * {
    line-height: calc(1em + 0.5rem);
  }

  body {
    -webkit-font-smoothing: antialiased;
  }

  :root,
  body {
    overflow-wrap: anywhere;
  }
}

@layer themes {
  body {
    --color-primary-light: rgb(0 0 0);
    --color-surface-tint-light: rgb(95 94 94);
    --color-on-primary-light: rgb(255 255 255);
    --color-primary-container-light: rgb(28 27 27);
    --color-on-primary-container-light: rgb(133 131 131);
    --color-secondary-light: rgb(95 94 94);
    --color-on-secondary-light: rgb(255 255 255);
    --color-secondary-container-light: rgb(229 226 225);
    --color-on-secondary-container-light: rgb(101 100 100);
    --color-tertiary-light: rgb(0 0 0);
    --color-on-tertiary-light: rgb(255 255 255);
    --color-tertiary-container-light: rgb(28 27 27);
    --color-on-tertiary-container-light: rgb(134 131 131);
    --color-error-light: rgb(186 26 26);
    --color-on-error-light: rgb(255 255 255);
    --color-error-container-light: rgb(255 218 214);
    --color-on-error-container-light: rgb(147 0 10);
    --color-background-light: rgb(253 248 248);
    --color-on-background-light: rgb(28 27 27);
    --color-surface-light: rgb(253 248 248);
    --color-on-surface-light: rgb(28 27 27);
    --color-surface-variant-light: rgb(224 227 227);
    --color-on-surface-variant-light: rgb(68 71 72);
    --color-outline-light: rgb(116 120 120);
    --color-outline-variant-light: rgb(196 199 199);
    --color-shadow-light: rgb(0 0 0);
    --color-scrim-light: rgb(0 0 0);
    --color-inverse-surface-light: rgb(49 48 48);
    --color-inverse-on-surface-light: rgb(244 240 239);
    --color-inverse-primary-light: rgb(200 198 197);
    --color-primary-fixed-light: rgb(229 226 225);
    --color-on-primary-fixed-light: rgb(28 27 27);
    --color-primary-fixed-dim-light: rgb(200 198 197);
    --color-on-primary-fixed-variant-light: rgb(71 70 70);
    --color-secondary-fixed-light: rgb(229 226 225);
    --color-on-secondary-fixed-light: rgb(28 27 27);
    --color-secondary-fixed-dim-light: rgb(201 198 197);
    --color-on-secondary-fixed-variant-light: rgb(72 70 70);
    --color-tertiary-fixed-light: rgb(230 225 225);
    --color-on-tertiary-fixed-light: rgb(28 27 27);
    --color-tertiary-fixed-dim-light: rgb(202 197 197);
    --color-on-tertiary-fixed-variant-light: rgb(72 70 70);
    --color-surface-dim-light: rgb(221 217 216);
    --color-surface-bright-light: rgb(253 248 248);
    --color-surface-container-lowest-light: rgb(255 255 255);
    --color-surface-container-low-light: rgb(247 243 242);
    --color-surface-container-light: rgb(241 237 236);
    --color-surface-container-high-light: rgb(235 231 230);
    --color-surface-container-highest-light: rgb(229 226 225);

    --color-primary-dark: rgb(200 198 197);
    --color-surface-tint-dark: rgb(200 198 197);
    --color-on-primary-dark: rgb(49 48 48);
    --color-primary-container-dark: rgb(18 18 18);
    --color-on-primary-container-dark: rgb(126 125 125);
    --color-secondary-dark: rgb(201 198 197);
    --color-on-secondary-dark: rgb(49 48 48);
    --color-secondary-container-dark: rgb(72 70 70);
    --color-on-secondary-container-dark: rgb(183 180 180);
    --color-tertiary-dark: rgb(202 197 197);
    --color-on-tertiary-dark: rgb(50 48 48);
    --color-tertiary-container-dark: rgb(19 18 18);
    --color-on-tertiary-container-dark: rgb(128 125 124);
    --color-error-dark: rgb(255 180 171);
    --color-on-error-dark: rgb(105 0 5);
    --color-error-container-dark: rgb(147 0 10);
    --color-on-error-container-dark: rgb(255 218 214);
    --color-background-dark: rgb(20 19 19);
    --color-on-background-dark: rgb(229 226 225);
    --color-surface-dark: rgb(20 19 19);
    --color-on-surface-dark: rgb(229 226 225);
    --color-surface-variant-dark: rgb(68 71 72);
    --color-on-surface-variant-dark: rgb(196 199 199);
    --color-outline-dark: rgb(142 145 146);
    --color-outline-variant-dark: rgb(68 71 72);
    --color-shadow-dark: rgb(0 0 0);
    --color-scrim-dark: rgb(0 0 0);
    --color-inverse-surface-dark: rgb(229 226 225);
    --color-inverse-on-surface-dark: rgb(49 48 48);
    --color-inverse-primary-dark: rgb(95 94 94);
    --color-primary-fixed-dark: rgb(229 226 225);
    --color-on-primary-fixed-dark: rgb(28 27 27);
    --color-primary-fixed-dim-dark: rgb(200 198 197);
    --color-on-primary-fixed-variant-dark: rgb(71 70 70);
    --color-secondary-fixed-dark: rgb(229 226 225);
    --color-on-secondary-fixed-dark: rgb(28 27 27);
    --color-secondary-fixed-dim-dark: rgb(201 198 197);
    --color-on-secondary-fixed-variant-dark: rgb(72 70 70);
    --color-tertiary-fixed-dark: rgb(230 225 225);
    --color-on-tertiary-fixed-dark: rgb(28 27 27);
    --color-tertiary-fixed-dim-dark: rgb(202 197 197);
    --color-on-tertiary-fixed-variant-dark: rgb(72 70 70);
    --color-surface-dim-dark: rgb(20 19 19);
    --color-surface-bright-dark: rgb(58 57 57);
    --color-surface-container-lowest-dark: rgb(14 14 14);
    --color-surface-container-low-dark: rgb(28 27 27);
    --color-surface-container-dark: rgb(32 31 31);
    --color-surface-container-high-dark: rgb(43 42 42);
    --color-surface-container-highest-dark: rgb(53 52 52);

    &[data-theme="light"] {
      --color-primary: var(--color-primary-light);
      --color-surface-tint: var(--color-surface-tint-light);
      --color-on-primary: var(--color-on-primary-light);
      --color-primary-container: var(--color-primary-container-light);
      --color-on-primary-container: var(--color-on-primary-container-light);
      --color-secondary: var(--color-secondary-light);
      --color-on-secondary: var(--color-on-secondary-light);
      --color-secondary-container: var(--color-secondary-container-light);
      --color-on-secondary-container: var(--color-on-secondary-container-light);
      --color-tertiary: var(--color-tertiary-light);
      --color-on-tertiary: var(--color-on-tertiary-light);
      --color-tertiary-container: var(--color-tertiary-container-light);
      --color-on-tertiary-container: var(--color-on-tertiary-container-light);
      --color-error: var(--color-error-light);
      --color-on-error: var(--color-on-error-light);
      --color-error-container: var(--color-error-container-light);
      --color-on-error-container: var(--color-on-error-container-light);
      --color-background: var(--color-background-light);
      --color-on-background: var(--color-on-background-light);
      --color-surface: var(--color-surface-light);
      --color-on-surface: var(--color-on-surface-light);
      --color-surface-variant: var(--color-surface-variant-light);
      --color-on-surface-variant: var(--color-on-surface-variant-light);
      --color-outline: var(--color-outline-light);
      --color-outline-variant: var(--color-outline-variant-light);
      --color-shadow: var(--color-shadow-light);
      --color-scrim: var(--color-scrim-light);
      --color-inverse-surface: var(--color-inverse-surface-light);
      --color-inverse-on-surface: var(--color-inverse-on-surface-light);
      --color-inverse-primary: var(--color-inverse-primary-light);
      --color-primary-fixed: var(--color-primary-fixed-light);
      --color-on-primary-fixed: var(--color-on-primary-fixed-light);
      --color-primary-fixed-dim: var(--color-primary-fixed-dim-light);
      --color-on-primary-fixed-variant: var(
        --color-on-primary-fixed-variant-light
      );
      --color-secondary-fixed: var(--color-secondary-fixed-light);
      --color-on-secondary-fixed: var(--color-on-secondary-fixed-light);
      --color-secondary-fixed-dim: var(--color-secondary-fixed-dim-light);
      --color-on-secondary-fixed-variant: var(
        --color-on-secondary-fixed-variant-light
      );
      --color-tertiary-fixed: var(--color-tertiary-fixed-light);
      --color-on-tertiary-fixed: var(--color-on-tertiary-fixed-light);
      --color-tertiary-fixed-dim: var(--color-tertiary-fixed-dim-light);
      --color-on-tertiary-fixed-variant: var(
        --color-on-tertiary-fixed-variant-light
      );
      --color-surface-dim: var(--color-surface-dim-light);
      --color-surface-bright: var(--color-surface-bright-light);
      --color-surface-container-lowest: var(
        --color-surface-container-lowest-light
      );
      --color-surface-container-low: var(--color-surface-container-low-light);
      --color-surface-container: var(--color-surface-container-light);
      --color-surface-container-high: var(--color-surface-container-high-light);
      --color-surface-container-highest: var(
        --color-surface-container-highest-light
      );
    }

    &[data-theme="dark"] {
      --color-primary: var(--color-primary-dark);
      --color-surface-tint: var(--color-surface-tint-dark);
      --color-on-primary: var(--color-on-primary-dark);
      --color-primary-container: var(--color-primary-container-dark);
      --color-on-primary-container: var(--color-on-primary-container-dark);
      --color-secondary: var(--color-secondary-dark);
      --color-on-secondary: var(--color-on-secondary-dark);
      --color-secondary-container: var(--color-secondary-container-dark);
      --color-on-secondary-container: var(--color-on-secondary-container-dark);
      --color-tertiary: var(--color-tertiary-dark);
      --color-on-tertiary: var(--color-on-tertiary-dark);
      --color-tertiary-container: var(--color-tertiary-container-dark);
      --color-on-tertiary-container: var(--color-on-tertiary-container-dark);
      --color-error: var(--color-error-dark);
      --color-on-error: var(--color-on-error-dark);
      --color-error-container: var(--color-error-container-dark);
      --color-on-error-container: var(--color-on-error-container-dark);
      --color-background: var(--color-background-dark);
      --color-on-background: var(--color-on-background-dark);
      --color-surface: var(--color-surface-dark);
      --color-on-surface: var(--color-on-surface-dark);
      --color-surface-variant: var(--color-surface-variant-dark);
      --color-on-surface-variant: var(--color-on-surface-variant-dark);
      --color-outline: var(--color-outline-dark);
      --color-outline-variant: var(--color-outline-variant-dark);
      --color-shadow: var(--color-shadow-dark);
      --color-scrim: var(--color-scrim-dark);
      --color-inverse-surface: var(--color-inverse-surface-dark);
      --color-inverse-on-surface: var(--color-inverse-on-surface-dark);
      --color-inverse-primary: var(--color-inverse-primary-dark);
      --color-primary-fixed: var(--color-primary-fixed-dark);
      --color-on-primary-fixed: var(--color-on-primary-fixed-dark);
      --color-primary-fixed-dim: var(--color-primary-fixed-dim-dark);
      --color-on-primary-fixed-variant: var(
        --color-on-primary-fixed-variant-dark
      );
      --color-secondary-fixed: var(--color-secondary-fixed-dark);
      --color-on-secondary-fixed: var(--color-on-secondary-fixed-dark);
      --color-secondary-fixed-dim: var(--color-secondary-fixed-dim-dark);
      --color-on-secondary-fixed-variant: var(
        --color-on-secondary-fixed-variant-dark
      );
      --color-tertiary-fixed: var(--color-tertiary-fixed-dark);
      --color-on-tertiary-fixed: var(--color-on-tertiary-fixed-dark);
      --color-tertiary-fixed-dim: var(--color-tertiary-fixed-dim-dark);
      --color-on-tertiary-fixed-variant: var(
        --color-on-tertiary-fixed-variant-dark
      );
      --color-surface-dim: var(--color-surface-dim-dark);
      --color-surface-bright: var(--color-surface-bright-dark);
      --color-surface-container-lowest: var(
        --color-surface-container-lowest-dark
      );
      --color-surface-container-low: var(--color-surface-container-low-dark);
      --color-surface-container: var(--color-surface-container-dark);
      --color-surface-container-high: var(--color-surface-container-high-dark);
      --color-surface-container-highest: var(
        --color-surface-container-highest-dark
      );
    }

    --generic-fallback-font-stack:
      ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
      "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif,
      "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    --mona-sans:
      "Mona Sans", MonaSansFallback, var(--generic-fallback-font-stack);
    --monaspace:
      MonaspaceNeon, MonaspaceNeonFallback, var(--generic-fallback-font-stack);

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-family: var(--monaspace);
    }

    color: var(--color-on-surface);
    font-family: var(--mona-sans);
    background: var(--color-surface-container-low);
  }

  ::view-transition-group(root) {
    --expo-out: linear(
      0 0%,
      0.1684 2.66%,
      0.3165 5.49%,
      0.446 8.52%,
      0.5581 11.78%,
      0.6535 15.29%,
      0.7341 19.11%,
      0.8011 23.3%,
      0.8557 27.93%,
      0.8962 32.68%,
      0.9283 38.01%,
      0.9529 44.08%,
      0.9711 51.14%,
      0.9833 59.06%,
      0.9915 68.74%,
      1 100%
    );
    animation-timing-function: var(--expo-out);
  }

  ::view-transition-new(root) {
    mask:
      url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'><defs><filter id='blur'><feGaussianBlur stdDeviation='2'/></filter></defs><circle cx='0' cy='0' r='18' fill='white' filter='url(%23blur)'/></svg>")
      top left / 0 no-repeat;
    mask-origin: content-box;
    animation: scale 600ms;
    transform-origin: top left;
  }

  ::view-transition-old(root) {
    animation: scale 600ms;
    transform-origin: top left;
    z-index: -1;
  }

  @keyframes scale {
    to {
      mask-size: 350vmax;
    }
  }
}

@layer utilities {
  /**
   * @FOIT: font-display swap
   */
  @font-face {
    font-display: swap;
    font-family: "Mona Sans";
    font-stretch: 75% 125%;
    font-weight: 200 900;
    src:
      url("/vislly/fonts/Mona-Sans.woff2") format("woff2 supports variations"),
      url("/vislly/fonts/Mona-Sans.woff2") format("woff2-variations");
  }

  /**
   * @FOUT
   */
  @font-face {
    font-family: MonaSansFallback;
    size-adjust: 109.5%;
    src: local(Arial);
  }

  /**
   * @FOIT: font-display swap
   */
  @font-face {
    font-display: swap;
    font-family: MonaspaceNeon;
    font-weight: 200 800;
    src: url("/vislly/fonts/MonaspaceNeon.woff2") format("woff2");
  }

  /**
   * @FOUT
   */
  @font-face {
    font-family: MonaspaceNeonFallback;
    size-adjust: 103.5%;
    src: local("Courier"), local("Andale Mono");
  }
}
